<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.104.3"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="API Explorer # Insomnia is a GraphQL explorer. It allows you to make queries without needing a dev environment. It is the recommended way to learn the API and is helpful if you are new to programming.
We have a JSON file with a collection to handle auth and make common requests in Insomnia. You can download it here
Getting Started # First we need to download Insomnia. They have a free tier which is more than enough for our purposes."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="API Explorer # Insomnia is a GraphQL explorer. It allows you to make queries without needing a dev environment. It is the recommended way to learn the API and is helpful if you are new to programming.
We have a JSON file with a collection to handle auth and make common requests in Insomnia. You can download it here
Getting Started # First we need to download Insomnia. They have a free tier which is more than enough for our purposes."><meta property="og:type" content="article"><meta property="og:url" content="https://glimesh.github.io/api-docs/docs/api/api-explorer/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-10-15T14:35:05-05:00"><title>API Explorer | API-Docs</title><link rel=manifest href=/api-docs/manifest.json><link rel=icon href=/api-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/api-docs/book.min.8cbfebb3cede38504cf8ec2af15528c78f5d6c0aa02b6e39dcffcd3320289b34.css integrity="sha256-jL/rs87eOFBM+Owq8VUox49dbAqgK2453P/NMyAomzQ="><script defer src=/api-docs/en.search.min.4d83d16c621d6c95b8af13f51ceb328d2ea6fcb137f22273c4751b976981efcd.js integrity="sha256-TYPRbGIdbJW4rxP1HOsyjS6m/LE38iJzxHUbl2mB780="></script>
<script src=https://kit.fontawesome.com/a076d05399.js></script>
<script src=https://cdn.jsdelivr.net/npm/react@16/umd/react.production.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/react-dom@16/umd/react-dom.production.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/graphql-voyager/dist/voyager.css><script src=https://cdn.jsdelivr.net/npm/graphql-voyager/dist/voyager.min.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/api-docs><img src=/api-docs/glimesh.png alt=Logo><span>API-Docs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-bf7b3283e3790c00c8caaa140299052b class=toggle checked>
<label for=section-bf7b3283e3790c00c8caaa140299052b class="flex justify-between"><a>API</a>
<span>▾</span></label><ul><li><input type=checkbox id=section-ed972e555096d8550e03791bdee2d785 class=toggle>
<label for=section-ed972e555096d8550e03791bdee2d785 class="flex justify-between"><a>API Queries</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/api/query-api/basic-query/>Generic Query</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/query-api/nodejs/node-query/>NodeJS Query</a></li></ul></li><li><input type=checkbox id=section-8c27155e24a80e56e9d44dbeacd7d1ea class=toggle>
<label for=section-8c27155e24a80e56e9d44dbeacd7d1ea class="flex justify-between"><a>Stream Settings</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/api/stream/updatestreaminfo/>Update Stream Info</a></li></ul></li><li><a href=https://glimesh.github.io/api-docs/docs/api/api-explorer/ class=active>API Explorer</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/migration/>Migration</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/pagination/>Pagination</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/voyager/>Voyager</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/glimesh-ids/>Glimesh IDs</a></li></ul></li><li><input type=checkbox id=section-46070fb9a15f8281e5989a88905887d2 class=toggle>
<label for=section-46070fb9a15f8281e5989a88905887d2 class="flex justify-between"><a>Authentication</a>
<span>▾</span></label><ul><li><input type=checkbox id=section-cd9d01c15ace32e6fd3da5d1201bcd57 class=toggle>
<label for=section-cd9d01c15ace32e6fd3da5d1201bcd57 class="flex justify-between"><a>Access Token</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/authentication/accesstoken/clientcredentials/>Client Credentials</a></li><li><a href=https://glimesh.github.io/api-docs/docs/authentication/accesstoken/pkceauth/>PKCE</a></li><li><a href=https://glimesh.github.io/api-docs/docs/authentication/accesstoken/accesstoken/>Access Token</a></li><li><a href=https://glimesh.github.io/api-docs/docs/authentication/accesstoken/nodejs/node-access-token/>NodeJS Access Token</a></li></ul></li><li><input type=checkbox id=section-1a1dc1f670e3426ff413fcd1f7e7ec36 class=toggle>
<label for=section-1a1dc1f670e3426ff413fcd1f7e7ec36 class="flex justify-between"><a>Refresh Token</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/authentication/refreshtoken/refreshtoken/>Refresh Token</a></li></ul></li><li><a href=https://glimesh.github.io/api-docs/docs/authentication/auth-explained/>Auth Explained</a></li></ul></li><li><input type=checkbox id=section-05db2d31fc2e5a419ce9fd1c0e938e4e class=toggle>
<label for=section-05db2d31fc2e5a419ce9fd1c0e938e4e class="flex justify-between"><a>Chat</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/chat/websockets/>Connecting to Chat</a></li><li><a href=https://glimesh.github.io/api-docs/docs/chat/mutations/>Sending Messages</a></li><li><a href=https://glimesh.github.io/api-docs/docs/chat/chat-tokens/>Tokens (Message Parts)</a></li><li><a href=https://glimesh.github.io/api-docs/docs/chat/moderation/>Moderation</a></li><li><input type=checkbox id=section-9c7ac9316f3056fdea1a344042fc8cb8 class=toggle>
<label for=section-9c7ac9316f3056fdea1a344042fc8cb8 class="flex justify-between"><a>Projects</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/chat/projects/sitewidesubscription/>Site Wide Subscription</a></li><li><a href=https://glimesh.github.io/api-docs/docs/chat/projects/typescriptchatbot/>Typescript Chatbot</a></li></ul></li></ul></li><li><input type=checkbox id=section-0bc4e29f34ae087e007863102c5ba992 class=toggle>
<label for=section-0bc4e29f34ae087e007863102c5ba992 class="flex justify-between"><a>Live Updates</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/live-updates/channels/>Channels</a></li><li><a href=https://glimesh.github.io/api-docs/docs/live-updates/followers/>Followers</a></li><li><a href=https://glimesh.github.io/api-docs/docs/live-updates/subscribers/>Subscribers</a></li><li><a href=https://glimesh.github.io/api-docs/docs/live-updates/explanation/>Live Updates Explained</a></li></ul></li><li><input type=checkbox id=section-084ba1dbb512652712ad881ff8045610 class=toggle>
<label for=section-084ba1dbb512652712ad881ff8045610 class="flex justify-between"><a>Reference</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/reference/channel/>Channel</a></li><li><a href=https://glimesh.github.io/api-docs/docs/reference/chat/>Chat</a></li><li><a href=https://glimesh.github.io/api-docs/docs/reference/chatparts/>Chat Parts</a></li><li><a href=https://glimesh.github.io/api-docs/docs/reference/mod/>Mod</a></li><li><a href=https://glimesh.github.io/api-docs/docs/reference/scopes/>Scopes</a></li></ul></li><li><a href=https://glimesh.github.io/api-docs/docs/contributing/>Contributing</a></li><li><a href=https://glimesh.github.io/api-docs/docs/dev-app/>Dev App</a></li><li><input type=checkbox id=section-c51f25d1917de848e9ad26913759c6eb class=toggle>
<label for=section-c51f25d1917de848e9ad26913759c6eb class="flex justify-between"><a>Developer Resources</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/developerresources/libraries/>Libraries</a></li><li><a href=https://glimesh.github.io/api-docs/docs/developerresources/tools/>Tools</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/api-docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>API Explorer</strong>
<label for=toc-control><img src=/api-docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#getting-started>Getting Started</a><ul><li><a href=#glimesh-collection>Glimesh Collection</a></li><li><a href=#manual-setup>Manual Setup</a></li></ul></li><li><a href=#generating-code>Generating Code</a></li></ul></nav></aside></header><article class=markdown><h1 id=api-explorer>API Explorer
<a class=anchor href=#api-explorer>#</a></h1><p>Insomnia is a GraphQL explorer. It allows you to make queries without needing a dev environment. It is the recommended way to learn the API and is helpful if you are new to programming.</p><blockquote><p>We have a JSON file with a collection to handle auth and make common requests in Insomnia. You can download it <a href=https://github.com/Glimesh/api-docs/tree/master/static/GlimeshCollection.json>here</a></p></blockquote><h2 id=getting-started>Getting Started
<a class=anchor href=#getting-started>#</a></h2><p>First we need to download Insomnia. They have a free tier which is more than enough for our purposes. Insomnia can be downloaded <a href=https://insomnia.rest/download>here</a>. You <strong>don&rsquo;t</strong> need to make an account to use the app. When the download is complete, you can skip your way through setup and get to the collection viewer.</p><h3 id=glimesh-collection>Glimesh Collection
<a class=anchor href=#glimesh-collection>#</a></h3><p>If you downloaded the Glimesh Collection this will be a very fast setup. Drag the file directly into the editor. This will import all our requests and our environment variables.</p><p>First we need to set up our variables to authenticate our requests. On the top left select the &ldquo;no environment&rdquo; button. Then &ldquo;manage environments&rdquo; . Add your client ID / secret to their matching values. If you do not yet have an ID you can get one by creating a dev app.</p><p><img src=https://i.imgur.com/iwfuVTa.png alt=img></p><p>Insomnia will automatically run the auth request now that the variables are filled in.</p><p>The file contains a few common requests. To test one, click on the request. Then select the send button. Your response will appear on the right.</p><p><img src=https://i.imgur.com/gM3Mi8f.png alt="example query"></p><p>All the requests in this file have the auth header. If you make a new request you will have to add it yourself. Simply have the header name as &ldquo;Authorization&rdquo; and the value as the <em>access_token</em> environment variable (ctrl+space in the text field to view env variables). You can use the <em>default_url</em> variable for the URL.</p><p><img src=https://i.imgur.com/PoJqnn7.png alt="Header example"></p><h3 id=manual-setup>Manual Setup
<a class=anchor href=#manual-setup>#</a></h3><p>Create a new collection. For this tutorial we will call this collection &ldquo;Glimesh&rdquo;.</p><p>First we will handle authentication. Generally it&rsquo;s easiest to make 1 auth request and have your credentials be environment variables. We will start with the variables first. On the top left press environment. Then manage environments. Copy the below JSON into the box.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;base_url&#34;</span>: <span style=color:#e6db74>&#34;https://glimesh.tv/api/graph&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;client_id&#34;</span>: <span style=color:#e6db74>&#34;YOUR_ID_HERE&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;client_secret&#34;</span>: <span style=color:#e6db74>&#34;YOUR_SECRET_HERE&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;access_token&#34;</span>: <span style=color:#e6db74>&#34;Bearer &#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Copy your ID/secret into their places. For the access token we need to make a request that will authenticate you. Close the environments box.</p><p>Create a new request on the left. Use <code>https://glimesh.tv/api/oauth/token</code> for the URL. It needs to be a POST request with a multipart-form body. Title the request Auth.</p><p>Use the following values for the form entries.</p><p><img src=https://i.imgur.com/LlD0k1V.png alt="Auth headers"></p><p>The purple boxes are the variables from earlier. Press ctrl+space while in the text field to view all variables and select the proper variables. To verify that the request is valid send the request. You should receive an access token from the response. If you don&rsquo;t receive one make sure all the values are correct.</p><blockquote><p>Note that I have 5 headers, you will not have that many for this request. The default Insomnia headers will suffice.</p></blockquote><p>Next we need to set our access token to the <em>access_token</em> variable in Insomnia. Open the environment tab from earlier. In the access token value after Bearer press ctrl+space. Select response => body-attribute. Click on the box that appeared in the value.</p><p>Request must be set to out Auth Request from eariler. Filter must be $.access_token . This pulls the token from the auth response. The trigger behavior must be set to &ldquo;when expired&rdquo;. Max age is 21600 (the life of the token).
<img src=https://i.imgur.com/Q4niJEK.png alt=token></p><p>Select done. Close the variable window.</p><p>Now we can make a request to get data from the API. Create a new request. You can use the <em>base_url</em> variable or enter the URL manually.</p><p><code>https://glimesh.tv/api/graph</code></p><p>It needs to be a POST request and have a body type of graphql. We need to add our auth info from the previous request. Head to the header section. The name needs to be &ldquo;Authorization&rdquo; and the value needs to be your <em>access_token</em> variable.</p><p><img src=https://i.imgur.com/PoJqnn7.png alt="Header example"></p><p>Now we can head back to the GraphQL section. You can make any query but we will request the user ID from a user. Copy the below query into the section.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=display:flex><span><span style=color:#66d9ef>query</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>user</span>(username: <span style=color:#e6db74>&#34;Mytho&#34;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>id</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>All that&rsquo;s left is to make the request! Select send on the top and the result will be on the right. You can make any number of requests in this format. The Glimesh collection includes basic requests and can be downloaded <a href=https://github.com/Glimesh/api-docs/tree/master/static/GlimeshCollection.json>here</a></p><h2 id=generating-code>Generating Code
<a class=anchor href=#generating-code>#</a></h2><p>Insomnia can generate code based on your request to the API. Although the code will work, it could likely use some optimizing based on your needs. Insomnia supports most programming languages, so choose the one that matches your project. Right click on a request and select generate code.</p><p><img src=https://i.imgur.com/7FCxpAs.png alt="Generate Code"></p><p>This will open a box and you can choose the format and language. If you have any questions about using the Glimesh collection or using the Glimesh API let us know in #dev-questions in our <a href=https://glimesh.tv/s/discord>discord</a>.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/Glimesh/api-docs/commit/44c279d2ddff14d61ce6e971dd5846e8518386c6 title='Last modified by MythoAway7 | October 15, 2022' target=_blank rel=noopener><img src=/api-docs/svg/calendar.svg class=book-icon alt=Calendar>
<span>October 15, 2022</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#getting-started>Getting Started</a><ul><li><a href=#glimesh-collection>Glimesh Collection</a></li><li><a href=#manual-setup>Manual Setup</a></li></ul></li><li><a href=#generating-code>Generating Code</a></li></ul></nav></aside></main></body></html>