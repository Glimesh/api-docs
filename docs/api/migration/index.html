<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.104.2"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="API Migration # Glimesh has started migrated to a new API because of major changes in the way result data is returned from the API. We&rsquo;ve added pagination to all queries that return lists to improve performance on the app, and renamed several fields for consistency.
In addition, we are in the process of migrating to a new OAuth 2.0 provider which adds additional features, but may require some changes for your application."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="API Migration # Glimesh has started migrated to a new API because of major changes in the way result data is returned from the API. We&rsquo;ve added pagination to all queries that return lists to improve performance on the app, and renamed several fields for consistency.
In addition, we are in the process of migrating to a new OAuth 2.0 provider which adds additional features, but may require some changes for your application."><meta property="og:type" content="article"><meta property="og:url" content="https://glimesh.github.io/api-docs/docs/api/migration/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-18T16:39:51-05:00"><title>Migration | API-Docs</title><link rel=manifest href=/api-docs/manifest.json><link rel=icon href=/api-docs/favicon.png type=image/x-icon><link rel=stylesheet href=/api-docs/book.min.8cbfebb3cede38504cf8ec2af15528c78f5d6c0aa02b6e39dcffcd3320289b34.css integrity="sha256-jL/rs87eOFBM+Owq8VUox49dbAqgK2453P/NMyAomzQ="><script defer src=/api-docs/en.search.min.0e98b4fe0a8682cc37b5b9e3cafc6e5ca411b392b85d6892e9db0331c415a3a0.js integrity="sha256-Dpi0/gqGgsw3tbnjyvxuXKQRs5K4XWiS6dsDMcQVo6A="></script>
<script src=https://kit.fontawesome.com/a076d05399.js></script>
<script src=https://cdn.jsdelivr.net/npm/react@16/umd/react.production.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/react-dom@16/umd/react-dom.production.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/graphql-voyager/dist/voyager.css><script src=https://cdn.jsdelivr.net/npm/graphql-voyager/dist/voyager.min.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/api-docs><img src=/api-docs/glimesh.png alt=Logo><span>API-Docs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-bf7b3283e3790c00c8caaa140299052b class=toggle checked>
<label for=section-bf7b3283e3790c00c8caaa140299052b class="flex justify-between"><a>API</a>
<span>▾</span></label><ul><li><input type=checkbox id=section-ed972e555096d8550e03791bdee2d785 class=toggle>
<label for=section-ed972e555096d8550e03791bdee2d785 class="flex justify-between"><a>API Queries</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/api/query-api/basic-query/>Generic Query</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/query-api/nodejs/node-query/>NodeJS Query</a></li></ul></li><li><a href=https://glimesh.github.io/api-docs/docs/api/api-explorer/>API Explorer</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/migration/ class=active>Migration</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/pagination/>Pagination</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/voyager/>Voyager</a></li><li><a href=https://glimesh.github.io/api-docs/docs/api/glimesh-ids/>Glimesh IDs</a></li></ul></li><li><input type=checkbox id=section-46070fb9a15f8281e5989a88905887d2 class=toggle>
<label for=section-46070fb9a15f8281e5989a88905887d2 class="flex justify-between"><a>Authentication</a>
<span>▾</span></label><ul><li><input type=checkbox id=section-cd9d01c15ace32e6fd3da5d1201bcd57 class=toggle>
<label for=section-cd9d01c15ace32e6fd3da5d1201bcd57 class="flex justify-between"><a>Access Token</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/authentication/accesstoken/clientcredentials/>Client Credentials</a></li><li><a href=https://glimesh.github.io/api-docs/docs/authentication/accesstoken/pkceauth/>PKCE</a></li><li><a href=https://glimesh.github.io/api-docs/docs/authentication/accesstoken/accesstoken/>Access Token</a></li><li><a href=https://glimesh.github.io/api-docs/docs/authentication/accesstoken/nodejs/node-access-token/>NodeJS Access Token</a></li></ul></li><li><input type=checkbox id=section-1a1dc1f670e3426ff413fcd1f7e7ec36 class=toggle>
<label for=section-1a1dc1f670e3426ff413fcd1f7e7ec36 class="flex justify-between"><a>Refresh Token</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/authentication/refreshtoken/refreshtoken/>Refresh Token</a></li></ul></li><li><a href=https://glimesh.github.io/api-docs/docs/authentication/auth-explained/>Auth Explained</a></li></ul></li><li><input type=checkbox id=section-05db2d31fc2e5a419ce9fd1c0e938e4e class=toggle>
<label for=section-05db2d31fc2e5a419ce9fd1c0e938e4e class="flex justify-between"><a>Chat</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/chat/websockets/>Connecting to Chat</a></li><li><a href=https://glimesh.github.io/api-docs/docs/chat/mutations/>Sending Messages</a></li><li><a href=https://glimesh.github.io/api-docs/docs/chat/chat-tokens/>Tokens (Message Parts)</a></li><li><a href=https://glimesh.github.io/api-docs/docs/chat/moderation/>Moderation</a></li><li><input type=checkbox id=section-9c7ac9316f3056fdea1a344042fc8cb8 class=toggle>
<label for=section-9c7ac9316f3056fdea1a344042fc8cb8 class="flex justify-between"><a>Projects</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/chat/projects/sitewidesubscription/>Site Wide Subscription</a></li><li><a href=https://glimesh.github.io/api-docs/docs/chat/projects/typescriptchatbot/>Typescript Chatbot</a></li></ul></li></ul></li><li><input type=checkbox id=section-0bc4e29f34ae087e007863102c5ba992 class=toggle>
<label for=section-0bc4e29f34ae087e007863102c5ba992 class="flex justify-between"><a>Live Updates</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/live-updates/channels/>Channels</a></li><li><a href=https://glimesh.github.io/api-docs/docs/live-updates/followers/>Followers</a></li><li><a href=https://glimesh.github.io/api-docs/docs/live-updates/subscribers/>Subscribers</a></li><li><a href=https://glimesh.github.io/api-docs/docs/live-updates/explanation/>Live Updates Explained</a></li></ul></li><li><input type=checkbox id=section-084ba1dbb512652712ad881ff8045610 class=toggle>
<label for=section-084ba1dbb512652712ad881ff8045610 class="flex justify-between"><a>Reference</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/reference/channel/>Channel</a></li><li><a href=https://glimesh.github.io/api-docs/docs/reference/chat/>Chat</a></li><li><a href=https://glimesh.github.io/api-docs/docs/reference/chatparts/>Chat Parts</a></li><li><a href=https://glimesh.github.io/api-docs/docs/reference/mod/>Mod</a></li><li><a href=https://glimesh.github.io/api-docs/docs/reference/scopes/>Scopes</a></li></ul></li><li><a href=https://glimesh.github.io/api-docs/docs/contributing/>Contributing</a></li><li><a href=https://glimesh.github.io/api-docs/docs/dev-app/>Dev App</a></li><li><input type=checkbox id=section-c51f25d1917de848e9ad26913759c6eb class=toggle>
<label for=section-c51f25d1917de848e9ad26913759c6eb class="flex justify-between"><a>Developer Resources</a>
<span>▾</span></label><ul><li><a href=https://glimesh.github.io/api-docs/docs/developerresources/libraries/>Libraries</a></li><li><a href=https://glimesh.github.io/api-docs/docs/developerresources/tools/>Tools</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/api-docs/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Migration</strong>
<label for=toc-control><img src=/api-docs/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#timeline>Timeline</a></li><li><a href=#using-the-new-api>Using the New API</a><ul><li><a href=#what-changed>What Changed?</a></li></ul></li><li><a href=#using-the-new-authentication>Using the New Authentication</a><ul><li><a href=#what-changed-1>What Changed?</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=api-migration>API Migration
<a class=anchor href=#api-migration>#</a></h1><p>Glimesh has started migrated to a new API because of major changes in the way result data is returned from the API. We&rsquo;ve added pagination to all queries that return lists to improve performance on the app, and renamed several fields for consistency.</p><p>In addition, we are in the process of migrating to a new OAuth 2.0 provider which adds additional features, but may require some changes for your application. The migration to the new OAuth 2.0 provider will complete on August 20th 2021 at 8AM EDT.</p><blockquote><p><em><strong>If you are new to the API you can safely skip this doc.</strong></em></p></blockquote><h2 id=timeline>Timeline
<a class=anchor href=#timeline>#</a></h2><p>The new API endpoint has already been introduced, however there are currently no plans to remove the old API endpoint. However we will be soon pointing all new developers to our new API only, and removing documentation relating to the older API as we continue to prove the new one out.</p><h2 id=using-the-new-api>Using the New API
<a class=anchor href=#using-the-new-api>#</a></h2><p>Using the new API is very easy. Simply point all requests to the new URL.</p><pre tabindex=0><code class=language-URL data-lang=URL>HTTP Endpoint: https://glimesh.tv/api/graph
WebSocket Endpoint: wss://glimesh.tv/api/graph/websocket
</code></pre><p>This will give you full access to the new endpoints and features of the API.</p><h3 id=what-changed>What Changed?
<a class=anchor href=#what-changed>#</a></h3><p>Some changes are internal and do not affect the developer. However, the following changes will affect you:</p><ul><li>The new API endpoint does not support a built-in graphical editor. This change was required to properly support CORS across the new API endpoint. We have a new tutorial about using your own editor <a href=/api-docs/docs/api/api-explorer>here</a>.</li><li>Query Complexity analysis has been added which will help us maintain API performance. You should not run into any limits with any possible queries (due to pagination), but if you do receive errors about query complexity, let us know so we can check it out!</li></ul><hr><ul><li>The following fields have been <strong>added</strong> to the API.<ul><li>Category<ul><li>insertedAt: Creation time of the category.</li><li>updatedAt: When the category was last updated.</li></ul></li><li>Channel<ul><li>chatBgUrl : The URL of the channels chat background.</li><li>posterUrl: Image that is shown in place of the stream when the user is offline.</li><li>Streams: List of the streams the channel currently has (1). See <a href=/api-docs/docs/api/pagination>pagination</a>.</li></ul></li><li>Channel Ban<ul><li>id: The ID of the channel ban.</li></ul></li><li>Channel Moderator<ul><li>id: The ID of the channel moderator.</li></ul></li><li>Stream<ul><li>thumbnailUrl: The URL of the current thumbnail (stream snapshot)</li></ul></li><li>User<ul><li>allowGlimeshNewsletter: Does the user allow newsletters?</li><li>allowLiveSubscriptionEmails: Does the user allow &ldquo;going live&rdquo; emails?</li><li>channel: The user&rsquo;s channel.</li><li>email: The user&rsquo;s email address (scope protected).</li><li>followingLiveChannels: The channels that the user is following that are currently streaming.</li><li>insertedAt: When the user was inserted into the database.</li><li>showOnHomePage: Has the user enabled the selection to be on the homepage?</li><li>teamRole: The role the user has on the Glimesh Team (dev, design, GCT, etc)</li><li>updatedAt: The last time the user was modified.</li></ul></li></ul></li></ul><hr><ul><li>The following are now paginated and no longer return every item in the collection at once. See <a href=/api-docs/docs/api/pagination>pagination</a><ul><li>Subcategories</li><li>Tags</li><li>Channels</li><li>Channel Bans</li><li>Channel Chat Messages</li><li>Channel Moderation Logs</li><li>Channel Streams</li><li>Channel Moderator List</li><li>Followers</li><li>Users</li><li>User Followers</li><li>User Following</li><li>User Following Live Channels</li></ul></li></ul><hr><ul><li>The following fields have been <strong>removed</strong> from the API. Some have been moved or had their names changed to a new field.<ul><li>Channel<ul><li>thumbnail: Moved to Stream as thumbnailUrl</li><li>Replaced hmackey and username as arguments. Added streamerId and streamerUsername</li></ul></li><li>deleteMessage<ul><li>Changed to deleteChatMessage</li></ul></li><li>Emote Token<ul><li>url: Use src instead.</li></ul></li><li>Followers<ul><li>Replaced streamerUsername and userUsername as arguments. Added streamerId and userId</li></ul></li><li>Stream<ul><li>avgChatters</li><li>avgViewers</li><li>countChatters</li><li>newSubscribers</li><li>resubSubscribers</li><li>subcategory: Moved to Channel.</li><li>thumbnail: Changed to thumbnailUrl.</li></ul></li><li>User<ul><li>avatar: Use avatarUrl instead.</li></ul></li></ul></li></ul><h2 id=using-the-new-authentication>Using the New Authentication
<a class=anchor href=#using-the-new-authentication>#</a></h2><p>The new authentication method will not require any changes for the user. However, it does add support for PKCE auth.</p><h3 id=what-changed-1>What Changed?
<a class=anchor href=#what-changed-1>#</a></h3><p>Credentials now use new formats. Client IDs and Secret Keys will be converted for each request you make. This means you <strong>do not</strong> need to change your keys. However, we recommend that you migrate to the new format whenever possible. Simply rotate the existing keys from the <a href=/api-docs/docs/dev-app>dev app</a> and replace them in your projects.</p><ul><li>Access/Refresh Tokens<ul><li>Can now contain upper case values.</li><li>Max length increased to 255 characters.</li></ul></li><li>Client ID<ul><li>Are now UUID’s instead of alpha-numeric values.</li></ul></li><li>Client Secret<ul><li>Can now contain upper case values.</li><li>Max length increased to 255 characters.</li></ul></li></ul><p>Our OAuth system now supports PKCE auth. This is a new standard and it is not required to use the API. We have a guide on it <a href=/api-docs/docs/authentication/accesstoken/pkceauth/>here</a>.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/Glimesh/api-docs/commit/3ea7ada5a97afff9f9cc740cadd57ba8366468dd title='Last modified by Jonathan Shull | June 18, 2022' target=_blank rel=noopener><img src=/api-docs/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 18, 2022</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#timeline>Timeline</a></li><li><a href=#using-the-new-api>Using the New API</a><ul><li><a href=#what-changed>What Changed?</a></li></ul></li><li><a href=#using-the-new-authentication>Using the New Authentication</a><ul><li><a href=#what-changed-1>What Changed?</a></li></ul></li></ul></nav></aside></main></body></html>